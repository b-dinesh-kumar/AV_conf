{
  "openapi": "3.0.0",
  "info": {
    "title": "AV conf API",
    "version": "1.0",
    "description": "API documentation for AV conference",
    "contact": {
      "name": "Dineshkumar",
      "email": "dineshkumar.b@tra-augment.com",
      "url": "http://www.3edge.in"
    },
    "termsOfService": "https://www.termsofservice.com",
    "license": {
      "name": "MIT",
      "url": "https://github.com/b-dinesh-kumar/AV_conf/"
    }
  },
  "servers": [
    {
      "url": "http://localhost:9090/focus/v1"
    }
  ],
  "paths": {
    "/meeting": {
      "get": {
        "summary": "getAllMeeting",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "../common/Meeting-list.v1.json"
                      }
                    },
                    "status": {
                      "type": "string",
                      "example": "success"
                    },
                    "pagination": {
                      "$ref": "../common/Pagination.v1.json"
                    }
                  }
                },
                "examples": {
                  "application/json": {
                    "value": {
                      "data": [
                        {
                          "actEndTime": "2020-10-04T16:30:00Z",
                          "businessEntityId": "1",
                          "meetingId": "9021020e-fab7-44f1-85bb-6ad0032ac641",
                          "schEndTime": "2020-10-04T16:30:00Z",
                          "schStartTime": "2020-10-04T15:30:00Z",
                          "meetingUrl": "https://av-meet.com/idc-vshh-vkp",
                          "isScreenshareUsed": true,
                          "isWaitRoomEnabled": true,
                          "actStartTime": "2020-10-04T15:30:00Z",
                          "meetingName": "API meeting",
                          "statusId": "1",
                          "statusName": "Scheduled",
                          "isRecordingUsed": true,
                          "isAudioUsed": true,
                          "meetingDesc": "This is a meeting about API documentation",
                          "isVideoUsed": true
                        }
                      ],
                      "status": "success",
                      "pagination": {
                        "totalRecords": 25,
                        "limit": 20,
                        "page": 1
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          }
        },
        "operationId": "get-meeting",
        "description": "Retrieve all the meeting details.",
        "parameters": [
          {
            "schema": {
              "type": "number",
              "example": 1
            },
            "in": "query",
            "name": "page",
            "description": "Filter based on given page no"
          },
          {
            "schema": {
              "type": "number",
              "example": 10
            },
            "in": "query",
            "name": "size",
            "description": "Filter based on given size"
          },
          {
            "schema": {
              "type": "number",
              "minimum": 1,
              "maximum": 4,
              "example": 1
            },
            "in": "query",
            "name": "status",
            "description": "Filter based on given status id \nEg: 1 - Scheduled,\n    2 - In progress,\n    3 - Completed,\n    4 - Cancelled"
          },
          {
            "schema": {
              "type": "string",
              "format": "date",
              "example": "2020-10-07"
            },
            "in": "query",
            "name": "from",
            "description": "Filter based on given start date"
          },
          {
            "schema": {
              "type": "string",
              "example": "2020-10-15",
              "format": "date"
            },
            "in": "query",
            "name": "to",
            "description": "Filter based on given end date"
          },
          {
            "schema": {
              "type": "number",
              "example": 2019
            },
            "in": "query",
            "name": "year",
            "description": "Filter based on given year"
          },
          {
            "schema": {
              "type": "number",
              "example": 10
            },
            "in": "query",
            "name": "month",
            "description": "Filter based on given month"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "example": "asc"
            },
            "in": "query",
            "name": "sort",
            "description": "Sort the page by ascending or descending order based on meeting start date\nEg: asc - sort by ascending,\n    desc- sort by descending"
          }
        ]
      },
      "parameters": [],
      "post": {
        "summary": "createMeeting",
        "operationId": "post-meeting",
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "meetingId": {
                          "type": "string",
                          "example": "342a7e48-8626-40e2-8e16-547c2a1c49c8"
                        }
                      }
                    },
                    "status": {
                      "type": "string",
                      "example": "success"
                    }
                  }
                },
                "examples": {
                  "application/json": {
                    "value": {
                      "data": {
                        "meetingId": "342a7e48-8626-40e2-8e16-547c2a1c49c8"
                      },
                      "status": "success"
                    }
                  }
                }
              }
            }
          }
        },
        "description": "To create the meeting.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "schEndTime": {
                    "type": "string",
                    "format": "date-time",
                    "example": "2020-10-03T16:00:00.000Z",
                    "description": ""
                  },
                  "schStartTime": {
                    "type": "string",
                    "format": "date-time",
                    "example": "2020-10-03T15:00:00.000Z"
                  },
                  "meetingName": {
                    "type": "string",
                    "example": "Sprint meeting"
                  },
                  "meetingDesc": {
                    "type": "string",
                    "example": "This is a Sprint meeting"
                  }
                }
              },
              "examples": {
                "application/json": {
                  "value": {
                    "schEndTime": "2020-10-03T16:00:00.000Z",
                    "schStartTime": "2020-10-03T15:00:00.000Z",
                    "meetingName": "Sprint meeting",
                    "meetingDesc": "This is a Sprint meeting"
                  }
                }
              }
            },
            "application/xml": {
              "schema": {
                "type": "object",
                "properties": {}
              }
            }
          },
          "description": "Details to create the meeting."
        },
        "parameters": []
      }
    },
    "/meeting/{id}": {
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "id",
          "in": "path",
          "required": true,
          "description": "Meeting id"
        }
      ],
      "get": {
        "summary": "getMeetingById",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {},
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "$ref": "../common/Meeting.v1.json"
                    },
                    "status": {
                      "type": "string",
                      "example": "success"
                    }
                  }
                },
                "examples": {
                  "application/json": {
                    "value": {
                      "data": {
                        "actEndTime": "2020-10-04T16:30:00Z",
                        "meetingId": "9021020e-fab7-44f1-85bb-6ad0032ac641",
                        "schEndTime": "2020-10-07T10:30:00Z",
                        "schStartTime": "2020-10-07T09:30:00Z",
                        "businessEntity": {
                          "businessEntityId": 1,
                          "logo": "business/focus2343.jpg",
                          "businessEntityName": "Focus"
                        },
                        "meetingUrl": "https://av-meet.com/idc-vshh-vkp",
                        "isScreenshareUsed": true,
                        "isWaitRoomEnabled": true,
                        "actStartTime": "2020-10-07T09:30:00Z",
                        "meetingName": "Sprint meeting",
                        "isRecordingUsed": true,
                        "isAudioUsed": true,
                        "meetingDesc": "This is a sprint meeting",
                        "isVideoUsed": true,
                        "status": {
                          "statusId": 1,
                          "statusName": "Scheduled"
                        }
                      },
                      "status": "success"
                    }
                  }
                }
              },
              "application/xml": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "actEndTime": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "meetingId": {
                            "type": "string"
                          },
                          "schEndTime": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "status": {
                      "type": "string",
                      "example": "success"
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "get-meeting-id",
        "description": "Get the meeting details by id."
      },
      "delete": {
        "summary": "deleteMeetingById",
        "operationId": "delete-meeting-id",
        "responses": {
          "204": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Delete-response"
                },
                "examples": {
                  "application/json": {
                    "value": {
                      "data": {
                        "message": "Deleted successfully"
                      },
                      "staus": "success"
                    }
                  }
                }
              }
            }
          }
        },
        "description": "Delete the meeting by id."
      },
      "patch": {
        "summary": "updateMeetingById",
        "operationId": "patch-meeting-id",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Update-response"
                },
                "examples": {
                  "application/json": {
                    "value": {
                      "data": {
                        "message": "Updated successfully"
                      },
                      "status": "success"
                    }
                  }
                }
              }
            }
          }
        },
        "description": "Update the meeting by id.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "meetingName": {
                    "type": "string",
                    "example": "FirstMeeting"
                  },
                  "meetingDesc": {
                    "type": "string",
                    "example": "This is a meeting about updation"
                  },
                  "schStartTime": {
                    "type": "string",
                    "format": "date-time",
                    "example": "2020-10-01T10:30:00Z"
                  },
                  "schEndTime": {
                    "type": "string",
                    "format": "date-time",
                    "example": "2020-10-01T11:30:00Z"
                  }
                }
              },
              "examples": {
                "application/json": {
                  "value": {
                    "meetingName": "FirstMeeting",
                    "meetingDesc": "This is a meeting about updation",
                    "schStartTime": "2020-10-01T10:30:00Z",
                    "schEndTime": "2020-10-01T11:30:00Z"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/meeting/{id}/participants": {
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "id",
          "in": "path",
          "required": true,
          "description": "Meeting id"
        }
      ],
      "get": {
        "summary": "getAllParticipants",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "isOrganizer": {
                            "type": "boolean"
                          },
                          "meetingUserId": {
                            "type": "string",
                            "example": "23"
                          },
                          "meetingId": {
                            "type": "string",
                            "example": "68eeec02-b723-41fb-94c2-7ad1e5502b0d"
                          },
                          "emailId": {
                            "type": "string",
                            "example": "peter.p@tra-augment.com"
                          }
                        }
                      }
                    },
                    "status": {
                      "type": "string",
                      "example": "success"
                    }
                  }
                },
                "examples": {
                  "application/json": {
                    "value": {
                      "data": [
                        {
                          "isOrganizer": true,
                          "meetingUserId": "23",
                          "meetingId": "68eeec02-b723-41fb-94c2-7ad1e5502b0d",
                          "emailId": "peter.p@tra-augment.com"
                        }
                      ],
                      "status": "success"
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "get-meeting-id-participants",
        "description": "Retrieve list of participants of the meeting"
      },
      "post": {
        "summary": "addPartcipants",
        "operationId": "post-meeting-id-participants",
        "responses": {
          "201": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "message": {
                          "type": "string",
                          "example": "Participants added successfully"
                        }
                      }
                    },
                    "status": {
                      "type": "string",
                      "example": "success"
                    }
                  }
                },
                "examples": {
                  "application/json": {
                    "value": {
                      "data": {
                        "message": "Participants added successfully"
                      },
                      "status": "success"
                    }
                  }
                }
              }
            }
          }
        },
        "description": "Add participants to the meeting",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "users": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "isOrganizer": {
                          "type": "boolean"
                        },
                        "emailId": {
                          "type": "string",
                          "format": "email",
                          "example": "hugh.ja@tra-augment.com"
                        }
                      }
                    }
                  }
                }
              },
              "examples": {
                "application/json": {
                  "value": {
                    "users": [
                      {
                        "isOrganizer": true,
                        "emailId": "hugh.ja@tra-augment.com"
                      }
                    ]
                  }
                }
              }
            }
          }
        }
      },
      "patch": {
        "summary": "updateParticipants",
        "operationId": "patch-meeting-id-participants",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Update-response"
                },
                "examples": {
                  "application/json": {
                    "value": {
                      "data": {
                        "message": "Updated successfully"
                      },
                      "status": "success"
                    }
                  }
                }
              }
            }
          }
        },
        "description": "Update the details of the participants",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "users": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "isOrganizer": {
                          "type": "boolean"
                        },
                        "meetingUserId": {
                          "type": "string",
                          "example": "12"
                        },
                        "emailId": {
                          "type": "string",
                          "format": "email",
                          "example": "christian.b@tra-augment.com"
                        }
                      },
                      "required": [
                        "meetingUserId"
                      ]
                    }
                  }
                }
              },
              "examples": {
                "application/json": {
                  "value": {
                    "users": [
                      {
                        "isOrganizer": true,
                        "meetingUserId": "12",
                        "emailId": "christian.b@tra-augment.com"
                      }
                    ]
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "deleteParticipants",
        "operationId": "delete-meeting-id-participants",
        "responses": {
          "204": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Delete-response"
                },
                "examples": {
                  "application/json": {
                    "value": {
                      "data": {
                        "message": "Deleted successfully"
                      },
                      "status": "success"
                    }
                  }
                }
              }
            }
          }
        },
        "description": "Delete the participants of the meeting",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "users": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "example": "45"
                    }
                  }
                }
              },
              "examples": {
                "application/json": {
                  "value": {
                    "users": [
                      "45"
                    ]
                  }
                }
              }
            }
          },
          "description": ""
        }
      }
    },
    "/meeting/{id}/participants/{uId}": {
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "id",
          "in": "path",
          "required": true,
          "description": "Meeting id"
        },
        {
          "schema": {
            "type": "string"
          },
          "name": "uId",
          "in": "path",
          "required": true,
          "description": "[GET,POST]-Meeting user id, [PATCH] - User session id"
        }
      ],
      "get": {
        "summary": "getUserSessions",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "../common/User-session.v1.json"
                      }
                    },
                    "status": {
                      "type": "string",
                      "example": "success"
                    }
                  }
                },
                "examples": {
                  "application/json": {
                    "value": {
                      "data": [
                        {
                          "meeetingUserId": "2",
                          "exitTime": "2020-10-07T10:50:00Z",
                          "downloadSpeed": 5048,
                          "joinTime": "2020-10-07T10:30:00Z",
                          "uploadSpeed": 5048,
                          "userSessionId": "2",
                          "reason": {
                            "reasonId": 1,
                            "reasonName": "Network issue"
                          },
                          "device": {
                            "deviceId": 3,
                            "deviceName": "Mobile"
                          }
                        }
                      ],
                      "status": "success"
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "get-meeting-id-participants-meetingUserId",
        "description": "Retrieve the user session details"
      },
      "post": {
        "summary": "createUserSession",
        "operationId": "post-meeting-id-participants-meetingUserId",
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "userSessionId": {
                          "type": "string",
                          "example": "12"
                        }
                      }
                    },
                    "status": {
                      "type": "string",
                      "example": "success"
                    }
                  }
                },
                "examples": {
                  "application/json": {
                    "value": {
                      "data": {
                        "userSessionId": "12"
                      },
                      "status": "success"
                    }
                  }
                }
              }
            }
          }
        },
        "description": "Create the user session.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "joinTime": {
                    "type": "string",
                    "format": "date-time",
                    "example": "2020-10-07T10:30:00Z"
                  },
                  "deviceId": {
                    "type": "number",
                    "example": 1
                  },
                  "uploadSpeed": {
                    "type": "number",
                    "example": 5048
                  },
                  "downloadSpeed": {
                    "type": "number",
                    "example": 5048
                  }
                },
                "required": [
                  "joinTime",
                  "deviceId",
                  "uploadSpeed",
                  "downloadSpeed"
                ]
              },
              "examples": {
                "application/json": {
                  "value": {
                    "joinTime": "2020-10-07T10:30:00Z",
                    "deviceId": 1,
                    "uploadSpeed": 5048,
                    "downloadSpeed": 5048
                  }
                }
              }
            }
          },
          "description": ""
        }
      },
      "patch": {
        "summary": "updateUserSession",
        "operationId": "patch-meeting-id-participants-sessionId",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Update-response"
                },
                "examples": {
                  "application/json": {
                    "value": {
                      "data": {
                        "message": "Updated successfully"
                      },
                      "status": "success"
                    }
                  }
                }
              }
            }
          },
          "": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Update-response"
                },
                "examples": {
                  "application/json": {
                    "value": {
                      "data": {
                        "message": "Updated successfully"
                      },
                      "status": "success"
                    }
                  }
                }
              }
            }
          }
        },
        "description": "Update the user session by user session id",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "exitTime": {
                    "type": "string",
                    "format": "date-time",
                    "example": "2020-10-07T10:50:00Z"
                  },
                  "reasonId": {
                    "type": "number",
                    "example": 1
                  }
                }
              },
              "examples": {
                "application/json": {
                  "value": {
                    "exitTime": "2020-10-07T10:50:00Z",
                    "reasonId": 1
                  }
                }
              }
            }
          },
          "description": ""
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Update-response": {
        "title": "Update-response",
        "type": "object",
        "description": "Response object of UPDATE operaion",
        "properties": {
          "data": {
            "type": "object",
            "properties": {
              "message": {
                "type": "string",
                "example": "Updated successfully"
              }
            }
          },
          "status": {
            "type": "string",
            "example": "success"
          }
        },
        "x-examples": {
          "application/json": {
            "data": {
              "message": "Updated successfully"
            },
            "status": "success"
          }
        }
      },
      "Delete-response": {
        "title": "Delete-response",
        "type": "object",
        "description": "Response object of DELETE operaion",
        "properties": {
          "data": {
            "type": "object",
            "properties": {
              "message": {
                "type": "string",
                "example": "Deleted successfully"
              },
              "status": {
                "type": "string",
                "example": "success"
              }
            }
          }
        },
        "x-examples": {
          "application/json": {
            "data": {
              "message": "Deleted successfully",
              "status": "success"
            }
          }
        }
      }
    },
    "securitySchemes": {
      "API Key - 1": {
        "type": "oauth2"
      }
    }
  }
}